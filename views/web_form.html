{% extends 'base' %}

{% block title %}
添加网站
{% endblock %}

{% import 'form' as form %}

{% if ser_instance is undefined %}
    {% set ser_instance = {'name':'', 'ip':'', 'description':'', 'date':''} %}
    {% set active_page = "server_add" %}
    {% set legend = True %}
{% endif %}

{% block content %}

<div>
    <form action="" method="POST">
        <fieldset>
            {% if legend %}
            <legend>添加网站</legend>
            {% else %}
            <legend>修改网站[{{ web_instance.name }}]</legend>
            {% endif %}
            {{ form.input(name='name', label='网站名', value=web_instance.name) }}
            {{ form.input(name='ip', label='网址', help_text="例如：http://gotit.asia/",
                value=web_instance.ip) }}
            {{ form.textarea(name='description', label='描述', placeholder='必要信息',
                value=web_instance.description) }}
            {{ form.input(name='keywords', label='关键词',
            help_text="判断网站是否正常时使用的关键词，确保网页中包含该字段，推荐使用标题，如果是多个关键词用英文逗号隔开。",
                value=ser_instance.date) }}
            {{ form.select(name='location', label='所在服务器', help_text='网站所在的服务器', options=locations,
                default=web_instance.location_ID) }}
        </fieldset>
            {{ form.submit(value="提交") }}
    </form>
</div>

{% endblock %}